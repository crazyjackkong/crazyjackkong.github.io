<!DOCTYPE html><html lang="zh-CN"><head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width">
<meta name="theme-color" content="#222" media="(prefers-color-scheme: light)">
<meta name="theme-color" content="#222" media="(prefers-color-scheme: dark)"><meta name="generator" content="Hexo 6.3.0">

  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">






  

<script class="next-config" data-name="main" type="application/json">{"hostname":"crazyjackkong.github.io","root":"/","images":"/images","scheme":"Mist","darkmode":true,"version":"8.13.2","exturl":false,"sidebar":{"position":"left","display":"hide","padding":18,"offset":12},"copycode":{"enable":false,"style":null},"bookmark":{"enable":false,"color":"#222","save":"auto"},"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"stickytabs":false,"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},"prism":false,"i18n":{"placeholder":"搜索...","empty":"没有找到任何搜索结果：${query}","hits_time":"找到 ${hits} 个搜索结果（用时 ${time} 毫秒）","hits":"找到 ${hits} 个搜索结果"}}</script>

    <meta name="description" content="转自嵌入式ARM 1月23日 仅供个人查阅 嵌入式系统嵌入式系统上的软件具有结构精简，代码轻量化，占用存储资源少的特点。">
<meta property="og:type" content="article">
<meta property="og:title" content="计算机3级考试嵌入式系统开发技术知识点总结（转载）">
<meta property="og:url" content="https://crazyjackkong.github.io/post/156f943e.html">
<meta property="og:site_name" content="Crazyjackkong">
<meta property="og:description" content="转自嵌入式ARM 1月23日 仅供个人查阅 嵌入式系统嵌入式系统上的软件具有结构精简，代码轻量化，占用存储资源少的特点。">
<meta property="og:locale" content="zh_CN">
<meta property="article:published_time" content="2019-02-19T15:33:25.390Z">
<meta property="article:modified_time" content="2019-02-19T15:39:35.060Z">
<meta property="article:author" content="Crazyjackkong">
<meta property="article:tag" content="转载">
<meta property="article:tag" content="嵌入式">
<meta name="twitter:card" content="summary">


<link rel="canonical" href="https://crazyjackkong.github.io/post/156f943e.html">



<script class="next-config" data-name="page" type="application/json">{"sidebar":"","isHome":false,"isPost":true,"lang":"zh-CN","comments":"","permalink":"https://crazyjackkong.github.io/post/156f943e.html","path":"post/156f943e.html","title":"计算机3级考试嵌入式系统开发技术知识点总结（转载）"}</script>

<script class="next-config" data-name="calendar" type="application/json">""</script>
<title>计算机3级考试嵌入式系统开发技术知识点总结（转载） | Crazyjackkong</title>
  






  <script async="" defer="" data-website-id="" src=""></script>

  <script defer="" data-domain="" src=""></script>

  <noscript>
    
  </noscript>
<link rel="alternate" href="/rss2.xml" title="Crazyjackkong" type="application/rss+xml">
<script>function loadCss(l){var d=document,h=d.head,s=d.createElement('link');s.rel='stylesheet';s.href=l;!function e(f){if (d.body)return f();setTimeout(function(){e(f)})}(function(){h.appendChild(s);});}loadCss('/style.css');loadCss('https://fonts.cat.net/css?family=Lato:300,300italic,400,400italic,700,700italic%7CRoboto+Slab:300,300italic,400,400italic,700,700italic%7CRoboto+Mono:300,300italic,400,400italic,700,700italic&display=swap&subset=latin,latin-ext');loadCss('https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.2.0/css/all.min.css');loadCss('https://cdnjs.cloudflare.com/ajax/libs/animate.css/3.1.1/animate.min.css');</script><noscript><link rel="stylesheet" href="/style.css"><link rel="stylesheet" href="https://fonts.cat.net/css?family=Lato:300,300italic,400,400italic,700,700italic%7CRoboto+Slab:300,300italic,400,400italic,700,700italic%7CRoboto+Mono:300,300italic,400,400italic,700,700italic&amp;display=swap&amp;subset=latin,latin-ext"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.2.0/css/all.min.css"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/3.1.1/animate.min.css"></noscript></head>

<body itemscope="" itemtype="http://schema.org/WebPage" class="use-motion">
  <div class="headband"></div>

  <main class="main">
    <div class="column">
      <header class="header" itemscope="" itemtype="http://schema.org/WPHeader"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切换导航栏" role="button">
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
    </div>
  </div>

  
  
  

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <i class="logo-line"></i>
      <p class="site-title">Crazyjackkong</p>
      <i class="logo-line"></i>
    </a>
      <p class="site-subtitle" itemprop="description">疯赤子的个人博客</p>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
    </div>
  </div>
</div>



<nav class="site-nav">
  <ul class="main-menu menu"><li class="menu-item menu-item-home"><a href="/" rel="section"><i class="fa fa-home fa-fw"></i>首页</a></li><li class="menu-item menu-item-about"><a href="/about/" rel="section"><i class="fa fa-user fa-fw"></i>关于</a></li><li class="menu-item menu-item-tags"><a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>标签</a></li><li class="menu-item menu-item-categories"><a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>分类</a></li><li class="menu-item menu-item-archives"><a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>归档</a></li>
  </ul>
</nav>




</header>
        
  
  <aside class="sidebar">

    <div class="sidebar-inner sidebar-overview-active">
      <ul class="sidebar-nav">
        <li class="sidebar-nav-toc">
          文章目录
        </li>
        <li class="sidebar-nav-overview">
          站点概览
        </li>
      </ul>

      <div class="sidebar-panel-container">
        <!--noindex-->
        <div class="post-toc-wrap sidebar-panel">
        </div>
        <!--/noindex-->

        <div class="site-overview-wrap sidebar-panel">
          <div class="site-author site-overview-item animated" itemprop="author" itemscope="" itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="Crazyjackkong" src="/images/avatar.jpeg">
  <p class="site-author-name" itemprop="name">Crazyjackkong</p>
  <div class="site-description" itemprop="description">Crazyjackkong的个人博客</div>
</div>
<div class="site-state-wrap site-overview-item animated">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
        <a href="/archives/">
          <span class="site-state-item-count">10</span>
          <span class="site-state-item-name">日志</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
          <a href="/categories/">
        <span class="site-state-item-count">5</span>
        <span class="site-state-item-name">分类</span></a>
      </div>
      <div class="site-state-item site-state-tags">
          <a href="/tags/">
        <span class="site-state-item-count">9</span>
        <span class="site-state-item-name">标签</span></a>
      </div>
  </nav>
</div>
  <div class="links-of-author site-overview-item animated">
      <span class="links-of-author-item">
        <a href="mailto:crazyjackkong@foxmail.com" title="E-Mail → mailto:crazyjackkong@foxmail.com" rel="noopener" target="_blank"><i class="fa fa-envelope fa-fw"></i>E-Mail</a>
      </span>
      <span class="links-of-author-item">
        <a href="tencent://AddContact/?fromId=45&amp;fromSubId=1&amp;subcmd=all&amp;uin=2821208874&amp;website=www.oicqzone.com" title="QQ → tencent://AddContact/?fromId=45&amp;fromSubId=1&amp;subcmd=all&amp;uin=2821208874&amp;website=www.oicqzone.com" rel="noopener" target="_blank"><i class="fab fa-qq fa-fw"></i>QQ</a>
      </span>
  </div>



        </div>
      </div>
    </div>
  </aside>


    </div>

    <div class="main-inner post posts-expand">


  


<div class="post-block">
  
  

  <article itemscope="" itemtype="http://schema.org/Article" class="post-content" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://crazyjackkong.github.io/post/156f943e.html">

    <span hidden="" itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.jpeg">
      <meta itemprop="name" content="Crazyjackkong">
    </span>

    <span hidden="" itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Crazyjackkong">
      <meta itemprop="description" content="Crazyjackkong的个人博客">
    </span>

    <span hidden="" itemprop="post" itemscope="" itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="计算机3级考试嵌入式系统开发技术知识点总结（转载） | Crazyjackkong">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          计算机3级考试嵌入式系统开发技术知识点总结（转载）
        </h1>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>
      

      <time title="创建时间：2019-02-19 23:33:25 / 修改时间：23:39:35" itemprop="dateCreated datePublished" datetime="2019-02-19T23:33:25+08:00">2019-02-19</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope="" itemtype="http://schema.org/Thing">
          <a href="/categories/%E5%AD%A6%E4%B9%A0/" itemprop="url" rel="index"><span itemprop="name">学习</span></a>
        </span>
    </span>

  
    <span class="post-meta-item" title="阅读次数" id="busuanzi_container_page_pv">
      <span class="post-meta-item-icon">
        <i class="far fa-eye"></i>
      </span>
      <span class="post-meta-item-text">阅读次数：</span>
      <span id="busuanzi_value_page_pv"></span>
    </span>
    <span class="post-meta-break"></span>
    <span class="post-meta-item" title="本文字数">
      <span class="post-meta-item-icon">
        <i class="far fa-file-word"></i>
      </span>
      <span class="post-meta-item-text">本文字数：</span>
      <span>16k</span>
    </span>
    <span class="post-meta-item" title="阅读时长">
      <span class="post-meta-item-icon">
        <i class="far fa-clock"></i>
      </span>
      <span class="post-meta-item-text">阅读时长 ≈</span>
      <span>15 分钟</span>
    </span>
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
        <p>转自<a href="javascript:void(0);">嵌入式ARM</a> <em>1月23日</em></p>
<p>仅供个人查阅</p>
<p><strong>嵌入式系统</strong><br>嵌入式系统上的软件具有结构精简，<strong>代码轻量化，占用存储资源少</strong>的特点。</p>
<span id="more"></span>

<p>嵌入式系统和计算机操作系统的共同特征是：<strong>引导加载程序、外设驱动程序、操作系统、文件系统、网络协议栈、图形用户界面、数据库。</strong><br>嵌入式系统应用开发工具的主要目的：<strong>提高开发质量，缩短开发周期，降低开发成本。</strong><br>按照软硬件技术的<strong>复杂程度</strong>进行分类，可以把嵌入式系统分为：<strong>高端系统、终端系统和低端系统</strong>三大类。</p>
<p>仿真平台指嵌入式系统开发中使用的<strong>虚拟机管理软件、仿真软件或者指令集模式器</strong></p>
<p>对应内存容量而言1KB = 1024B，对应外存（磁盘、U盘）等容量而言，1KB=1000B</p>
<p>OS装载方式：串口、以太网和USB装载。</p>
<p>嵌入式应用程序经过交叉工具链生成映像文件后，需要下载到目标机进行调试。</p>
<p>调试完毕后映像文件必须有专用工具烧写到ROM中去，这种烧写工具俗称编程器！<br>文本根据排版格式可分为：纯文本和丰富文本。windows环境下，txt就是纯文本。相对于线性文本，超文本按着网状结构组织信息。WWW网页是最为常见超文本。</p>
<p>当前速度最快的CPU已经超过10GHz。</p>
<p><strong>嵌套向量中断控制器缩写为NVIC</strong></p>
<p>GCC是GNU套件的编译链接器，能编译C语言，汇编语言。</p>
<p>GDB调试下，file命令是装入需要<strong>调试的可执行文件</strong>，run命令<strong>执行当前被调试的程序</strong>。</p>
<p>源文件到可执行文件的步骤：<strong>预处理-&gt;编译-&gt;汇编-&gt;连接</strong>。<br>前向通道和后向通道<br>前向通道 - 输入接口，A/D<br>后向通道 - 输出接口，D/A</p>
<p>AX88796芯片内部寄存器的地址范围：0x10000000 ~ 0x100003FF<br><strong>嵌入式系统硬件的逻辑组成</strong><br>硬件主体中央处理器和存储器，他们通过IO接口或者IO设备与外部世界联系，并借助总线相互连接</p>
<p>中央处理器主要由运算器、控制器、寄存器和高速缓冲区（cache）组成<br><strong>嵌入式系统的特点</strong></p>
<ul>
<li><p>专用型</p>
</li>
<li><p>隐蔽型</p>
</li>
<li><p>资源受限</p>
</li>
<li><p>高可靠性</p>
</li>
<li><p>软件固化</p>
</li>
<li><p>实时性</p>
</li>
</ul>
<p><strong>嵌入式系统的CPU特点</strong></p>
<ul>
<li>实时处理</li>
<li>低功耗</li>
<li>结构特拓展性</li>
<li>集成了测试电路</li>
<li>4、8、16、32位字长</li>
</ul>
<p><strong>CPU</strong><br>嵌入式系统的CPU主要使用的有DSP、RAM以及FPGA。</p>
<p>DSP介绍</p>
<ul>
<li>适用于数字信号处理的微处理器（DSP并非高性能通用处理器，它是一种专用于数字信号处理的微处理器） </li>
<li>支持单指令多数据（SIMD）并行处理的指令</li>
<li>显著提高音频、视频等数字信号的数据处理效率</li>
<li>手机和数码产品均有DSP</li>
</ul>
<p><strong>嵌入式开发流程</strong><br>需求分析和规格说明 -&gt; 系统设计 -&gt; 构件设计 -&gt; 系统集成与测试</p>
<p>测试的目的是验证模块/系统的功能和性能，以及时发现错误</p>
<p>基于嵌入式WEB的应用系统中，构件设计阶段需要设计支持以太网通信的电路，包括以太网控制电路和以太网驱动电路。AX8879芯片内部寄存器的读/写地址，其首地址一般是0x1000 0000 </p>
<p><strong>嵌入式开发特点</strong></p>
<ul>
<li>宿主机 - 目标机的开发架构</li>
<li>与底层硬件控制程序的关系密切</li>
<li>软硬件资源受限制</li>
<li>需要固化程序</li>
</ul>
<p><strong>嵌入式系统开发调试工具</strong></p>
<ul>
<li>在线仿真器</li>
<li>JTAG适配器</li>
<li>示波器</li>
</ul>
<p>GPIO</p>
<p>GPIO引脚一般是多功能复用的，具有0态，1态和高阻态。</p>
<p>作为输入接口时一般具有缓冲功能，作为输出接口时一般具有锁存功能。</p>
<p>GPIO可以实现并行IO，SPI、UART、I2C都是串行。<br><strong>UART</strong></p>
<p>UART由发生器、接收器、控制单元以及<strong>波特率发生器</strong>等组成。</p>
<p>可实现全双工通信!</p>
<p>RAM芯片中的UART收发信息时，可以采用FIFO，也可以采用普通模式</p>
<p>一般接收和发送缓冲区的FIFO字节数一样的，<strong>长度</strong>可编程选择4B、8B、16B、64B。</p>
<p>UART传送消息的格式是以起始位开始以停止位结束</p>
<p>UART传送信息时，一次可传输的数据位可以是<strong>5，6，7，8位</strong>，由编程决定</p>
<p>基于UART可组成RS-232接口</p>
<p>RS232 - 最远15m</p>
<p>RS485 - 最远1.2k<br>RAM实现485总线的功能，需要采用S3C2410芯片内部的UART部件外加转换芯片等来实现。在软件设计时，初始化波特率9600bps，数据格式格式为：8位数据位，无数据检验位，1位停止位。那么1s时间内最多传输960个字节。<strong>（****注意计算还得加上起始位和停止位）</strong><br><strong>CAN</strong></p>
<ul>
<li>即： 控制器局域网</li>
<li>能够实现多主通信</li>
<li>CAN总线的数据帧由7个不同的域组成，其中域的长度可以是0~8位</li>
<li>采用CRC校验</li>
<li>RAM芯片内部嵌入CAN控制器</li>
</ul>
<p><strong>键盘</strong><br>8个GPIO脚最多构成64个按键的键盘<br>矩阵键盘通常有行扫描法和反转法读取按键的特征值（还有一种方法叫做中断方式）<br><strong>嵌入式处理器内核的分类</strong><br>按照字长可以分为：8/16/32/64 位结构</p>
<p>按照存储可以分为：冯诺依曼和哈佛(程序和数据分开存储)结构</p>
<p>按照指令集可以分为：CISC、 RISC结构</p>
<p>CISC(complex instruction set computer 复杂指令集)</p>
<p>RISC(reduced instruction set computer 精简指令集)<br><strong>SOC片上系统</strong><br>SOC已成为嵌入式处理器芯片的主流发展趋势</p>
<p>它是集成电路进入<strong>深亚微米时代</strong>的产物</p>
<p>既能把数字电路也能把模拟电路集成到单个芯片上</p>
<p>包含数字电路、模拟电路以及射频电路</p>
<p>单个芯片即可完成采集、转换、存储、处理和I/O等多种功能</p>
<p>SOC有通用SOC芯片和专用SOC芯片之分</p>
<p>专用SOC芯片按其工艺分为定制芯片和现场可编程芯片两类<br><strong>集成电路</strong><br>集成电路有小规模(SSI)、中规模(MSI)、大规模(LSI)、超大规模(VLSI)和极大规模(ULSI)组成，<strong>嵌入式处理芯片一般属于VLSI和USLI</strong>。</p>
<p>集成电路大多是在硅衬底上制作，硅衬底是单晶硅锭经切割，研磨和抛光而成的圆形薄片。</p>
<p>集成电路中的电路及电子元件，需要反复交叉氧化、光刻、掺杂和互连等工序才能制成。<br><strong>嵌入式最小系统组成</strong><br>嵌入式系统一般包括嵌入式处理器、时钟电路、电源电路、复位电路、存储器和调试测试接口。<br><strong>JTAG调试技术</strong><br>JTAG标准中规定的TAP接口具有5根信号线<br>构建一个宿主机 - 目标机的开发环境，若目标机是裸机，那么为了调试和下载软件需要将调试仿真器连接到目标机的JTAG接口！</p>
<p>JATG是一种嵌入式测试技术，大多数嵌入式CPU、DSP、FPGA器件都支持JTAG</p>
<p>JTAG允许多个芯片的边界扫描寄存器BSR通过JTAG接口串联在一起，实现对多个器件的测试</p>
<p>通过JTAG可以实现在线编程功能<br><strong>主频时钟</strong><br>0.01s基准定时时间选用S3C2410芯片内部的Timer0部件产生。若系统的主频参数PCLK=264MHz，分频器选择16，预分频系数选择为3，那么，Timer0的计数常数为：41250</p>
<p>计算方法：<strong>定时器输入时钟频率 = PCLK/(预分频系数+1)/（分割器值），计数常数 = 定时间间隔/（1/定时器输入时钟频率）</strong></p>
<p>带宽 = 总线频率 × 数据线宽度 / 8 × 次数 / 周期<br><strong>板级升级包（BSP）</strong><br>引导加载程序、初始化程序、设备驱动程序、配置文件</p>
<p>含有电路板的初始化程序</p>
<p>所有与特定电路板上硬件相关的功能都集成在板级支持包的库里</p>
<p>操作系统的上层代码通过板级支持包访问底层硬件<br><strong>ARM</strong><br><strong>单指令周期</strong>和<strong>流水线技术</strong>是RAM处理器的技术特征。</p>
<p>RAM都是RISC，但是存储结构有的是哈佛结构，有的是冯诺依曼结构。</p>
<p><strong>PowerPC、MC68K、MIPS都是RISC，哈佛结构！</strong></p>
<p>Cortex 系列分为A-R-M ，A系列是面向尖端虚拟内存的操作系统和用户应用，R系列是针对实时系统，M系列是对微控制器。 Cortex - M3系列是哈佛结构。</p>
<p>RAM内部一般有：UART/I2C/SPI/CAN/USB/Ethernet等多个互连通信组件</p>
<p>RAM处理器共37个，包括31个通用寄存器（含PC）和6个状态寄存器</p>
<p><strong>RAM异常</strong></p>
<p>将CPRS的值保存到将要执行的异常中断对应的SPSR中</p>
<p>设置CPSR的相应位</p>
<p>断点地址保存到R14</p>
<p>PC赋值，转入向量地址<br><strong>ADS</strong><br>按照存储区域类型划分为3类，RO段，RW段，ZI段，RO段是指代码存储区和常数存储区，具有只读属性</p>
<p>可执行输出文件有3个生成目标：Debug、Release、DEbugRel</p>
<p>工程项目按照一定的逻辑来分组管理文件：</p>
<p>文件映射关系较简单时：使用编译、链接选项来确定输入文件的连接关系</p>
<p>地址映射关系较复杂时：使用scatter（分散加载）格式的文件来确定输入文件的连接关系<br><strong>RVDS</strong><br>RVDS开发工具套件中，主要包括工程管理器、编译连接器、调试器和指令集仿真器。调试器支持硬件<strong>在线调试和软件仿真调试</strong>。<br><strong>电源管理模块</strong></p>
<ul>
<li>正常模式</li>
<li>慢速模式</li>
<li>休眠模式 - 仅断开RAM内核时钟FCLK，CPU处于休眠模式，仍为外围硬件组件提供时钟。</li>
<li>掉电模式 - 切断内部电源，除非唤醒逻辑有效，否则内核不产生功耗</li>
</ul>
<p>正常模式下，电源管理模式为内核及RAM芯片内部所有硬件组成提供时钟源，用户可以通过软件控制暂时不用的内置硬件组件处于关闭状态降低功耗。<br><strong>硬件抽象层HAL</strong><br>向操作系统内核提供了访问硬件底层的函数接口</p>
<p>嵌入式软件中直接访问底层硬件的例程集合</p>
<p>增加的HAL位于硬件电路板和操作系统内核之间</p>
<p>嵌入式电路板的最基本软件</p>
<p>HAL函数是移植操作系统的基础</p>
<p>HAL<strong>隐藏了不同硬件平台的差异性</strong>，从而改善了操作系统的可移植性！<br><strong>AMBA总线</strong><br>RAM的总线结构成为 AMBA -先进微控制器总线结构（一种开放式总线结构）</p>
<p>从1995的AMBA1.0到目前的AMBA4.0共四个版本！</p>
<p>RAM7 - AMBA1; RAM11 - AMBA2</p>
<p>按照AMBA总线规范，基于RAM内核的嵌入式处理芯片采用<strong>系统总线</strong>和<strong>外围总线</strong>两层结构的方式构建片上系统</p>
<p>连接系统总线的高带宽组件（<strong>AHB接口</strong>）主要包括：电源管理和时钟控制器，<strong>测试接口</strong>（<strong>JTAG</strong>），外部存储器控制接口，DMA控制器，USB主机，中断控制器。（可以看出大多数为控制器）</p>
<p><strong>RTC是与外围总线（APB接口）连接的硬件组件</strong></p>
<p><strong>MMU</strong><br>MMU，<strong>内存管理单元，</strong>它是用来<strong>管理虚拟存储器、物理存储器的控制线路，同时也负责虚拟地址映射为物理地址</strong>，以及提供硬件机制的内存访问授权。</p>
<p>虚拟地址到物理地址的转换通过查找页表来完成，每次在访问内存时先插TLB，查不到再到内存中查整个页表。<br><strong>ARM7 ≠ ARMv7</strong><br>RAM7 - 冯诺依曼的结构。 <strong>RAM9~RAM11</strong> 采用哈佛结构！<br><strong>ARMv7</strong>是一种构架。ARM7是一种处理器型号，<strong>ARM7</strong>（冯诺依曼结构）是在ARMv4构架上设计出来的处理器。<strong>RAM11（ARMv6架构）</strong>之后便是以<strong>Cortex（ARMv7架构）</strong>来命名了！<br><strong>ARM7没有MMU(内存管理单元)<strong>，只能叫做MCU（微控制器），不能运行诸如</strong>Linux、WinCE（大型嵌入式操作系统）</strong>等这些现代的<strong>多用户多进程操作系统</strong>，因为运行这些系统需要MMU，才能给每个用户进程分配进程自己独立的地址空间。ucOS、ucLinux这些精简实时的<strong>RTOS不需要MMU，当然可以在ARM7上运行</strong>。</p>
<p>ARM9、ARM11，是嵌入式CPU（处理器），带有MMU，可以运行诸如Linux等多用户多进程的操作系统，应用场合也不同于ARM7。</p>
<p>此外，Cortex-M系列还细分为M0、M3、M4和超低功耗的M0+，用户依据成本、性能、功耗等因素来选择芯片。</p>
<p><strong>Cortex-M系列（ARMv7架构）的指令集只有Thumb-2。</strong></p>
<p><strong>ARM处理器 ≠ ARM处理器核</strong></p>
<ul>
<li><p>处理器核：在某种架构的基础上具有取指令和执行指令的组件。</p>
</li>
<li><p>处理器： 以处理器核为中心，加上MMU，中断控制器，浮点运算器，总线接口等就构成了RAM处理器。</p>
</li>
<li><p>当然了，单独的处理器核也可以作为某一代RAM处理器的。</p>
</li>
</ul>
<p><strong>RAM常考寄存器</strong></p>
<ul>
<li>R13 - SP （堆栈指针）</li>
<li>R14 - LR（链接寄存器）</li>
<li>R15 - PC（程序计数器）</li>
<li><strong>xPSR - （CPSR 和 SPSR）状态寄存器</strong></li>
</ul>
<p><strong>SP寄存器</strong></p>
<p>SP有两个，分别为R13(MSP)和R13(PSP)即主堆栈指针（MSP）和进程堆栈指针（PSP），但在同一时刻只能有一个可以看到，这也就是所谓的“banked”寄存器。</p>
<p>这些寄存器都是32位的。<br><strong>CPSR寄存器</strong><br>CPSR(当前程序状态寄存器)在任何处理器模式下被访问。它包含了<strong>条件标志位、中断禁止位、当前处理器模式标志以及其他的一些控制和状态位。</strong></p>
<p>RAM中表示程序状态的寄存器是CPSR，其中状态位T的作用是在RAM状态与Thumb状态间进行切换，当T = 1时处理器处于的状态是Thumb状态。</p>
<p>N为符号标志位 - N=1表示运算结果为负，否则运算结果为正</p>
<p>F为禁止快读中断为 - F=1表示禁止快速中断控制位，否则允许！</p>
<p>V为溢出标志位，等于1表示溢出</p>
<p>Z为全0标志，运算结果为0</p>
<p><strong>SPSR寄存器</strong><br>每一种处理器模式下（看下面的其中运行模式）都有一个专用的物理状态寄存器，称为SPSR（备份程序状态寄存器）。</p>
<p>当特定的<strong>异常中断</strong>发生时，这个寄存器用于存放<strong>当前程序状态寄存器</strong>的内容。在异常中断退出时，可以用<strong>SPSR来恢复CPSR</strong>。</p>
<p>由于用户模式和系统模式不是异常中断模式，所以他没有SPSR。当用户在用户模式或系统模式访问SPSR，将产生不可预知的后果。<br><strong>控制寄存器和数据寄存器</strong><br>控制寄存器是4个字节，比如端口E的控制寄存器rGPECON = 0x00005555</p>
<p>数据寄存器是2个字节，比如端口E的数据寄存器rGPEDAT=0x0020<br>关于赋值，也写一个小例子<br><em>rGPDCON = ((rGPDCON | 0x00005555) &amp; 0xFFFF5555);//GPD0~GPD7配置为输出模式</em><br>先置位，然后再清零。<br><strong>ARM微处理器的七种运行模式</strong></p>
<ul>
<li>用户模式：user （没有SPSR寄存器）：正常程序执行的模式</li>
<li>系统模式 – SYS （没有SPSR寄存器）： 用于运行特权级的操作系统任务</li>
<li>快速中断模式 – FIQ ：用于高速数据传输和通道处理、高速中断！</li>
<li>外部中断模式 – IRQ ：用于通常的中断处理</li>
<li>管理模式 – SVC ：又称特权模式，操作系统使用的一种保护模式</li>
<li>终止模式 – ABT ：用于虚拟存储及存储保护，处理存储器故障</li>
<li>未定义指令模式 – UND ：用于支持通过软件方针硬件的协处理器</li>
</ul>
<p><strong>经典RAM的七种异常</strong></p>
<ul>
<li>复位RESET</li>
<li>未定义指令 UND</li>
<li>软件中断 SWI</li>
<li>指令预取终止 PABT</li>
<li>数据访问终止 DABT</li>
<li>外部中断请求 IRQ</li>
<li>快速中断FIQ</li>
</ul>
<p><strong>IRQ</strong><br>IRQ异常对应的异常向量地址为：0x00000018<br>IRQ异常向量地址和下一个异常向量地址之间的间隔为4个字节<br>复位异常的异常向量地址是0x00000000。系统上电复位后，将从该地址处执行程序，RAM9的体系结构规定的各异常向量地址间隔通常是4个字节，以此复位异常向量地址处通常存储一条分支指令<br><strong>S3C2410必备知识</strong><br>S3C2410拥有2个串口，UART0/UART1</p>
<p>控制组件包括存储器控制器、总线控制器、外部主控器、NAND FLASH（以页为单位进行闪存）</p>
<p>存储器控制器提供访问外部存储器所需的存储器控制信号，支持大小端模式，地址空间供1GB，8个BANK，每个BANK128MB。</p>
<p>以ARM芯片为信合的嵌入式系统其I/O与存储器采用统一编址的方式，并不像×86那样采用I/O映射编址（独立编址）</p>
<p>只有BANK0是总线16、32位的访问，其他BANK均可以进行8、16、32位的访问</p>
<p>GPIO 有GPIOA~H</p>
<p>哈佛体系结构，数据与程序存储分开</p>
<p>哈佛体系结构，数据与程序存储分开</p>
<p>内部集成ADC<br><strong>矩阵按键代码</strong></p>
<blockquote>
<figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">\#define KEYOUTPUT (*(VOLATILE int8u *)0X56000044)</span><br><span class="line">\#define KEYINPUT (*(VOLATILE int8u *)0X56000044)</span><br><span class="line">INT16U ScanKey()</span><br><span class="line">{</span><br><span class="line">    INT16U key = 0xFFFF;</span><br><span class="line">    INT16U i;</span><br><span class="line">    INT8U temp=0xFF, output;</span><br><span class="line">    rGPECON = ((rGPECON &amp; 0xFFFFFF00) | 0x00000055); //初始化GPE0~GPE3为输出</span><br><span class="line">    rGPECON = rGPECON &amp; 0xFFFFFF0F; //初始化GPE4~GPE7为输入</span><br><span class="line">    //判断键盘中是否有键按下</span><br><span class="line">    for(i=1; ((i&lt;=8) &amp;&amp; (i&gt;0)); i&lt;&lt;=1)</span><br><span class="line">    {</span><br><span class="line">        output |= 0xFF;</span><br><span class="line">        output &amp;= (~i);</span><br><span class="line">        KEYOUTPUT = output;</span><br><span class="line">        temp = KEYINPUT;</span><br><span class="line">        if((temp &amp; 0xF0) != 0xF0)//判断列信号是否全部为1</span><br><span class="line">        {</span><br><span class="line">            key = (~i);</span><br><span class="line">            key &lt;&lt;= 8;</span><br><span class="line">            key |= ((temp &amp; 0xF0)|0x0F);</span><br><span class="line">            return key;</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line">    return 0xFFFF;</span><br><span class="line">}</span><br><span class="line">//key返回判断哪个按键的方法：最高4位和最低四位都是1，</span><br><span class="line">//即 1111 ---- ---- 1111，然后次高字节是行，再次高是列，</span><br><span class="line">//比如第2行第3个按键按下, 对应为 1111 1101 1011 1111 - 0xFDBF</span><br></pre></td></tr></tbody></table></figure>


</blockquote>
<p><strong>网络</strong><br>WLAN通信协议是<strong>802.11</strong></p>
<p>传输速率可达到<strong>11Mbps，54Mbps，108Mbps</strong>。<br><strong>IP</strong><br>IP地址分为A类、B类、C类三个基本类。另外两类分别为组播地址和备用地址。</p>
<p>IP地址解决了网络中所有计算机统一编址的问题</p>
<p>IP数据报是一种独立于各种物理网络的数据包格式</p>
<p>路由器是实现网络与网络互连的关键设备<br><strong>A类</strong></p>
<p>1.0.0.0 到126.255.255.255</p>
<p>分配给具有大量主机而局域网络数量较少的大型网络</p>
<p>由1个字节的网络地址和3个字节主机地址组成</p>
<p>网络地址的最高位必须是“0”，即第一字段的范围 0<del>127，但是由于全0和全1的地址用作特殊用途，实际可指派的第一个字段范围是1</del>126</p>
<p>每个IP地址可连16387064台主机，Internet有126个A类地址</p>
<p>可以用于多目的地址发送，言外之意可以组播<br><strong>B类</strong></p>
<p>128.0.0.0到191.255.255.255</p>
<p>用于国际性大公司和政府机构</p>
<p>前两个八位字节指明网络，后两个八位字节指明网络上的主机<br><strong>C类</strong><br>C类IP地址范围192.0.0.0 ~ 223.255.255.255</p>
<p>第1、2、3字节为网络地址，第四个字节为主机地址</p>
<p>C类地址数量较多，使用于局部局域网中，每个网络中最多包含254台计算机</p>
<p>用于一般小公司 校园网 研究机构<br><strong>以太网数据帧（里面不包括IP地址）</strong><br>前导码（7个字节） -&gt; 帧起始界定符(1字节) -&gt; 目的MAC地址(6字节) -&gt; 源MAC地址（6字节）-&gt; 类型/长度（2字节） -&gt; 数据(46~1500字节) -&gt;帧校验序列(4字节)</p>
<p>局域网采用分组交换技术</p>
<p>发送设备MAC地址 - &gt; 接收设备MAC地址 -&gt; 控制信息 -&gt;有效载荷 -&gt; 校验信息<br><strong>路由器</strong><br>多个异构或者同构网络进行互联</p>
<p>网络层</p>
<p>集线器来放大信号实现远距离传输</p>
<p>协议转换器：用于传输层及以上各层的协议转换</p>
<p>热点 - 正式名称无线接入点，它实际上是一个无线交换机或无线路由器。<br><strong>局域网</strong><br>按照介质所使用的访问控制方法可分为：以太网，FDDI网和令牌网</p>
<p>必不可少的部分是集线器与交换机<br><strong>指令集</strong><br>Thumb指令集是16位的，ARM指令集是32位的，中间有Thumb-2作为桥接。<br><strong>ARM处理器的三种工作状态</strong></p>
<ul>
<li>ARM状态 (指令宽度32)</li>
<li>Thumb 及 Thumb-2状态</li>
<li>调试状态</li>
</ul>
<p><strong>Thumb状态和ARM状态的切换</strong></p>
<ul>
<li>通过BX指令，写数据到操作数寄存器（R0）的最低位。</li>
<li>R0[0]=1 – 从RAM状态切换到Thumb状态。 R0[0]=0 – 从Thumb状态切换到RAM状态。</li>
</ul>
<p><strong>RAM复位后的状态</strong><br>ARM处理器复位后的状态都是ARM状态<br><strong>BootLoader</strong></p>
<p><strong>U-BOOT</strong></p>
<ul>
<li>Linux中引导程序加载时所支持不同体系结构处理器种类最多的Bootloader 是- U-BOOT。</li>
<li>全称universal-Boot-Loader</li>
<li>支持PowerPC、x86、ARM等多种体系结构的处理器</li>
<li>支持嵌入式Linux、VxWorks、QNX、RTEMS、Windows CE等操作系统<br>采用两个阶段完成操作系统的引导加载</li>
<li>引导加载程序主要完成：加电自检、外设存在自检<em>、内存地址映射、初始化外围设备、内存寻址定位、加载并启动操作系统</em></li>
<li>BootLoader通常分为stage1和stage2两大部分。依赖于CPU的体系结构，比如设备初始化代码通常放在stage1中，且使用汇编语言实现，以达到短小精悍的目的。stage2通常用于C语言实现更复杂的功能，同时代码也具有更好的可读性和可移植性。</li>
<li>BootLoader的stage1的基本步骤是：基本硬件初始化，为加载stage2准备RAM空间，拷贝stage2的执行代码到RAM空间中，设置栈区指针SP，跳转到stage2的C程序入口点。</li>
</ul>
<p><strong>作用</strong></p>
<ul>
<li>改变程序大小端排序</li>
<li>关闭看门狗</li>
<li>屏蔽中断</li>
<li>设置各个时钟</li>
<li>设置从SLEEP或者IDLE启动时的程序</li>
<li>初始化SDRAM</li>
<li>设置各模式指向的堆栈</li>
<li>设置好中断向量表</li>
<li>判断是从NOR FLASH（行读写，较慢）还是NAND FLASH（页读写）启动</li>
<li>将文件拷到SDRAM中</li>
</ul>
<p><strong>操作系统</strong><br>IOS 的前身是 UNIX-BSD（<strong>宏内核架构</strong>，但是是微内核操作系统）<br><strong>内核的概念</strong><br>内核提供<strong>任务调度、任务间通信与同步、任务管理、时间管理和存储管理。</strong><br>典型的单片机程序在程序指针复位后，首先进行堆栈、中断、中断向量、定时器、串行口等接口设置、初始化数据存储区和显示内容，然后就来到了一个监测、等待或空循环，在这个循环中，CPU可以监视外设、响应中断或用户输入。 这段主程序可以看作是一个内核，内核负责<strong>系统的初始化和开放、调度其它任务</strong>，相当于C语言中的主函数。</p>
<p>现代操作系统设计中，为减少系统本身的开销，往往将一些与硬件紧密相关的（如中断处理程序、设备驱动程序等）、基本的、公共的、运行频率较高的模块（如时钟管理、进程调度等）以及关键性数据结构独立开来，使之常驻内存，并对他们进行保护。通常把这一部分称之为操作系统的内核。<br><strong>Linux</strong></p>
<ul>
<li>UCLinux、RTLinux、uC/OS - II是开源嵌入式操作系统</li>
<li>Linux最初以Unix为原型，以实现POSIX标准作为其目标。</li>
<li>OS服务组件、用户进程、Linux内核、硬件</li>
<li>系统调用是Linux中用户进程和操作系统之间的重要接口！</li>
</ul>
<p><strong>Linux和Unix</strong><br>其两者源码是完全不相同的，尽管函数和命令的功能处理结果、函数名称和参数十分相同，以及Unix的行命令、驱动程序和应用程序在Linux上能够运行。</p>
<p>Linux运行效率没有Unix高！<br><strong>Linux命令</strong></p>
<p>arm - linux - gcc交叉编译器来编译应用程序</p>
<p>要对一个应用程序进行调试排错，应在编译指令中加g参数对它进行编译<br>Linux内核主要由5个子系统组成</p>
<ul>
<li>进程调度（SCHED）</li>
<li>内存（任务）管理（MM）</li>
<li>虚拟文件系统（VFS）</li>
<li>网络接口（NET）</li>
<li>进程间通信（IPC）</li>
</ul>
<p>进程调度模块负责控制进程对CPU资源的使用，所采取的调度策略是使得各个进程能够平均访问CPU，同时保证内核能及时地执行硬件操作。</p>
<p>内存管理模块的功能之一是屏蔽各种硬件接口内存结构的差异并向上返回一个统一的访问接口</p>
<p>网络接口模块包含网络接口驱动程序</p>
<p>支持进程之间的各种通信机制，其通信机制包括：信号、管道、消息队列、信号量、共享内存、套接字（socket）<br><strong>微内核和宏内核</strong><br><strong>微内核特征</strong></p>
<ul>
<li>内核小巧，传统操作系统中的许多部分都被移出内核。</li>
<li>接口一致，所有进程请求使用统一接口，进程不区分内核模式和用户模式服务。</li>
<li>各个功能模块之间松散耦合，只完成服务功能，系统管理功能交给一个或多个特权服务程序。</li>
<li>微内核扩充方便，但是各个功能之间的切换引起的开销很大！</li>
</ul>
<p>属于微内核的典型嵌入式操作系统有：Symbian、VxWorks、QNX、uC/OS - II、IOS，而Symbian是普通实时操作系统<br>VxWorks收取授权费和版权费。<br>VxWokrs用于尖端科技中<br><strong>宏内核</strong></p>
<ul>
<li>传统操作系统常采用的结构</li>
<li>应用程序效率高</li>
<li>切换开销小</li>
<li>对外来时间反应速度快</li>
<li>内存大</li>
<li>拓展性不高，维护困难 </li>
<li>可预测性较低</li>
<li>可靠性较低</li>
</ul>
<p>Android OS是典型的宏内核操作系统</p>
<p>宏内核又称为单内核！<br><strong>Tiny OS</strong><br>是开放源代码操作系统，属于深度轻量级的操作系统，专为嵌入式无线传感器网络设计，功耗较低，特别适合传感器这种受内存，功耗限制的设备。</p>
<p>轻线程，主动消息和组件化编程。<br><strong>QNX</strong><br>符合POSIX基本标准和实时标准</p>
<p>微内核操作系统</p>
<p>内核提供四种服务：进程调度，进程间通信，底层网络通信和中断处理<br><strong>uC/OS-II</strong></p>
<ul>
<li>抢占式实时操作系统</li>
<li>抢占式实时操作系统且每个任务都有自用栈</li>
<li>使用它的栈空间校验函数，可以确定每个任务到底需要多少栈空间</li>
<li>该系统不包含设备驱动程序，只是一个纯内核</li>
<li>不支持时间片轮转调度，所以赋给每个任务的优先级是不相同的</li>
<li>允许每个任务之间有不同的栈空间</li>
<li>升级版的UC/OS - III是商用操作系统</li>
<li>II 具有良好的可剪裁性和可移植性</li>
<li>能够支持的任务数最多是64（保留8个给系统，实际剩下56个）</li>
<li>最多允许的中断嵌套层数可以达到255层</li>
<li>软件结构一般具有：应用软件层，API层，内核层和设备驱动层</li>
<li>该系统能提供周期性时钟信号（时钟节拍），用于实现任务的正确延时和超时确认，节拍率在10~100Hz之间</li>
<li>用户必须在多任务调度启动以后再使能时钟节拍中断</li>
<li>在中断返回之前，必须调用退出中断函数 voidIntExit(void)</li>
<li>互斥信号量可以解决优先级反转的问题</li>
<li>事件控制块用以对信号的管理</li>
<li>任务管理中空闲任务是系统创建的第一个任务（空闲任务永远不会处于挂起态，还可能运行态，即使优先级最低，一旦其他任务都被堵塞他就可以执行了！）</li>
<li>中断服务子程序的伪码结构：保存全部CPU寄存器到栈，调用OSIntEnter()或者OSIntNesting变量加1，执行中断服务代码或发出IPC信息通知特定任务去执行中断服务，调用OSIntExit()函数，恢复所有CPU寄存器，执行中断返回指令。</li>
</ul>
<p>uC/OS-II 移植到一个 嵌入式系统电路板上正常运行，必须具备的条件</p>
<ul>
<li>处理器的C编译器能产生可重入代码，且用C语言就可以打开和关闭中断。</li>
<li>处理器支持中断，并且能产生定时中断。（通常在10至100Hz之间）。</li>
<li>处理器支持能够容纳一定量数据（可能几千字节）的硬件栈区。</li>
</ul>
<p>uC/OS-II 保护任务之间的共享数据和提供任务之间的通信，可达到保护目的方法通常有</p>
<ul>
<li>利用宏OS_ENTER_CRITICAL()和OS_EXIT_CRITCAL来打开和关闭中断。</li>
<li>利用函数OSSchedLock()和OSSchedUnlock()对任务调度函数上锁和开锁。</li>
<li>利用信号量、互斥量、邮箱和消息队列进行任务间通信。</li>
</ul>
<p>系统启动过程中，Bootloader执行完毕后，调用应用程序主文件（通常是main.c）里的main函数。main函数在执行过程中除了用户函数和硬件初始化函数之外，需要执行下面三个重要函数：OSInit() -&gt; OSTaskCreate() -&gt; OSStart()(注意先后顺序)<br>OSInit()函数先建立最初的任务就绪表，然后建立4个空白的数据链表，即：任务控制块链表，事件控制块链表、标志链表、内存控制块链表。<br>系统中任务的五种状态</p>
<ul>
<li>休眠态（任务停留在内存中，还没有交给内核管理。）</li>
<li>就绪态（该任务已经准备好，可以运行了，但是由于任务的优先级比正在运行任务的优先级低，还暂时不能运行。）（还有一种情况被更高优先级打断！）</li>
<li>运行态（任务得到了CPU的控制权正在运行之中）</li>
<li>挂起态</li>
<li>被中断态（发生中断执行相应的中断服务，原来在正在运行后的任务暂时停止运行，进入被中断状态）</li>
</ul>
<p>一些系统函数</p>
<ul>
<li>OSTaskCreate() - 任务创建相关</li>
<li>OSCtxSw() - 真正实现任务切换的函数</li>
<li>OSIntExit() - 中断级的调度</li>
<li>OSTickISR() - 时钟节拍中断服务子程序，与时间管理相关</li>
<li>OSSched() - 任务前导函数，任务级的调度函数</li>
</ul>
<p>判断任务调度的三个条件是：</p>
<ul>
<li>中断嵌套层数共享全程变量OSIntNesting = 0，也就是所有的ISR已经执行完毕</li>
<li>任务调度加锁层数共享全程变量OSLockNesting = 0，也就是调度没有被禁止</li>
<li>就绪表找到最高优先级比当前任务的优先级高</li>
</ul>
<p>OSIntExit() - 中断级的调度函数</p>
<p>系统事件控制块的相关函数</p>
<ul>
<li>OSSemCreate()(信号量创建)</li>
<li>OSMutexCreate()(创建互斥体)</li>
<li>OSMboxCreate()(建立一个邮箱)</li>
<li>OSQCreate()(创建事件控制块)</li>
</ul>
<p>就绪任务登记在就绪表中，OSRdyTbl[ ] 是就绪表的位图映像矩阵，每一位代表了一个优先级任务的就绪状态，成为就绪位，该矩阵最多有64位。 </p>
<p>一些系统文件</p>
<ul>
<li>OS_CPU_C.C - 创建任务的自用栈空间、定义用户接口的hook原型</li>
<li>OS_CORE.C - 核心调度代码，包括系统初始化、启动多任务调度开始运行、任务创建管理与调度、TCB初始化、就绪表初始化、ECB初始化、任务事件就绪表、空闲任务</li>
<li>OS_MEM.C - 内存管理，包括创建分区，获得存储块</li>
<li>OS_TASK.C - 任务管理，包括改变一个任务的优先级、创建或者删除一个任务，恢复一个被挂起的任务</li>
</ul>
<p>uC/OS系统时钟内核的基本功能（通过GLIBC调用通用函数和内核的内部功能）</p>
<ul>
<li>任务管理</li>
<li>时间管理</li>
<li>内存管理</li>
<li>任务调度</li>
<li>任务间通信和同步</li>
</ul>
<p><strong>实时操作系统与非实时操作系统</strong><br>实时系统</p>
<ul>
<li>民航导航系统</li>
<li>防空预警系统</li>
<li>电力输送控制系统</li>
</ul>
<p>非实时</p>
<ul>
<li>视频播放系统</li>
<li>博客发布系统</li>
<li>手机交互式城市交通导航系统</li>
</ul>
<p><strong>实时操作系统</strong><br>RTOS响应中断请求并且完成相应的中断服务子函数的时间非常快！精细衡量这个时间一致性变化的术语是抖动！</p>
<p>中断服务子函数也是可以调用函数然后进行事件处理的，中断服务子程序返回的最后一步执行中断返回指令。<br>RTOS特征(主要特征是能够及时响应外部发生的随机任务请求并且能够在规定的时限内完成任务。)（不包括轮转调度）</p>
<ul>
<li>异步IO和中断处理能力</li>
<li>任务切换时间和中断延迟时间确定</li>
<li>优先级中断和调度</li>
<li>抢占式调度</li>
<li>内存锁定</li>
<li>连续文件</li>
<li>同步</li>
</ul>
<p><strong>RTOS的实时性能主要由三个指标衡量</strong></p>
<p>响应时间（包括中断延迟时间和任务切换时间）（任务切换时间又包括人物抢占时间）</p>
<p>吞吐量</p>
<p>生存时间</p>
<ul>
<li>响应时间有两个指标 - 中断延迟时间和任务切换时间</li>
<li>实时系统对时间约束要求的严格性，使可预测性成为实时系统的一项重要性能要求，它是指RTOS能够对外部事件的响应时间和实时任务的执行时间进行判断，以确定被时间触发的实时任务能否在规定的时间内完成。</li>
<li>一般按照相应时间能将实时系统分为三类：强实时系统，其相应时间一般在ms级或us级；普通实时操作系统一般在s级，弱实时系统一般在数十s级。</li>
</ul>
<p><strong>任务时限有两种</strong></p>
<ul>
<li>截止时间：任务开始执行时间到任务必须完成的时间间隔。</li>
<li>任务执行预设：又叫任务最快完成时间，这是在无中断响应情况下的任务最快执行时间。</li>
</ul>
<p><strong>硬实时操作系统和软实时操作系统</strong></p>
<ul>
<li>任务执行时间超过截止时间系统的总损益就为负，这种实时系统成为硬实时系统。而且伴随有严重的后果，比如飞机控制器、核反应堆处理装置。</li>
<li>软实时操作系统超过时限并不会造成严重的影响比如：DVD播放机。</li>
</ul>
<p><strong>存储器</strong><br>半导体存储器芯片的存储容量取决于该芯片的地址总线的条数和数据总线的位数。</p>
<p>存储器带宽与存储器总线的工作频率有关，也与数据线的位数和每个总线周期的传输次数有关！</p>
<p>系统正在运行的程序的大部分数据和代码存放在主存储器（内存）中</p>
<p>系统尚未运行的程序的大部分数据和代码存放在外部存储器中<br><strong>分类</strong></p>
<p>按照存取特性分为：RAM和ROM</p>
<p>按照物理位置分为：片内存储器和片外存储器以及外部存储器</p>
<p>按照存储信息的类型分为：程序存储区和数据存储器<br><strong>RAM</strong></p>
<p>RAM - 高速读取， DRAM - 高集成度</p>
<p>RAM 通常又有DRAM和SRAM之分，SRAM较DRAM电路复杂，但是速度更快，高速缓冲区(cache)就是典型的SRAM。 SRAM的复杂决定了它做不大，至多几十K。</p>
<p>内存条就是DRAM，速度较SRAM慢，但是可以做的很大，比如内存条就是典型的DRAM，其容量就上G了。</p>
<p>FRAM - 铁电随机存取存储器，MRAM - 磁性随机存取存储器。</p>
<p>（以上两个随机存储器是非易失性存储器）<br><strong>FLASH</strong><br>Flash闪存有两大类，或非型（NOR Flash）和与非型（NAND Flash）。</p>
<p>或非以字节为单位进行随机存取，存储在里面的程序可以被CPU执行。与非以页为单位进行存取，速度较前者慢。</p>
<p>与非门读出程序或数据时，是先将其预存入RAM，然后才被使用的。虽然速度较慢，但是其寿命，容量成本等方面有很大优势，常用的U盘基本都是NAND Flash。<br><strong>DDR</strong><br>DDR - dual data rate - 双倍数据速率</p>
<p>DDR2 - 使原来DDR可预取读取2位变成可预取读取4位或8位，把DDR的数据传输速率又提升了两倍或四倍<br><strong>USB</strong><br>USB2.0 的速度可达到 480Mb/s</p>
<p>USB3.0的速度可达到 5Gb/s, 即640MB/s</p>
<p>半双工差分方式通信<br><strong>编码****ASCII</strong><br>ASCII共128个字符，96个可打印字符，32个控制字符。</p>
<p>ASCII是7位编码，但在计算机里用一个字节存放（计算机最基本的存储和处理单位）</p>
<p>每个字节多出的1位在计算机内部常保持为0，在数据传输中是奇偶校验位。<br><strong>汉字编码</strong><br>GB2312 – 两字节编码（每个字节最高位默认为1），包含常用的中国汉字和图形符号。</p>
<p>GB18030 与国际Unicode相兼容。单字节对应ASCII，双字节对应汉字（GB2312在这完全适用，但是比它范围广），其余四字节对应其他字符。<br><strong>Unicode</strong><br>UTF-8 – 单字节可变长编码，单字节向下兼容ASCII，音节文字对应两字节，CJK汉字(china japan koera 中日韩汉字)对应三字节，其余对应四字节。Linux 常用。</p>
<p>UTF-16 – 双字节可变长编码，CJK汉字及常用字符两字节，其余四字节。JAVA .NET 常用。<br><strong>同步IO和异步IO</strong><br>CPU的速度远远快于磁盘、网络等IO。在一个线程中，CPU执行代码的速度极快，然而，一旦遇到IO操作，如读写文件、发送网络数据时，就需要等待IO操作完成，才能继续进行下一步操作。这种情况称为同步IO。<br>在IO操作的过程中，当前线程被挂起，而其他需要CPU执行的代码就无法被当前线程执行了。因为一个IO操作就阻塞了当前线程，导致其他代码无法执行，所以我们必须使用多线程或者多进程来并发执行代码，为多个用户服务。每个用户都会分配一个线程，如果遇到IO导致线程被挂起，其他用户的线程不受影响。<br>多线程和多进程的模型虽然解决了并发问题，但是系统不能无上限地增加线程。由于系统切换线程的开销也很大，所以，一旦线程数量过多，CPU的时间就花在线程切换上了，真正运行代码的时间就少了，结果导致性能严重下降。<br>另一种解决IO问题的方法是异步IO。当代码需要执行一个耗时的IO操作时，它只发出IO指令，并不等待IO结果，然后就去执行其他代码了。一段时间后，当IO返回结果时，再通知CPU进行处理。<br><strong>指令相关</strong><br>子程序返回调用程序除了MOV PC, LR。还可以MOV R15, LR</p>
<p>汇编语言调用一个名为My的子程序的指令为： BL My 子程序返回调用程序的指令为：MOV PC, LR。</p>
<p>Thumb - 2指令集中关外部中断使用的指令是：CPSID I。开外部中断的指令为：CPSIE I。</p>
<p>EQ表示相等，NE表示不等</p>
<p>RAM汇编程序采用分支指令B</p>
<p>子程序调用指令BL</p>
<p>条件转移指令BX</p>
<p>RAM汇编中没有专门的指令实现循环，一般采用比较指令CMP、ADD、SUB等才能产生条件的指令，然后再通过带状态的条件转移指令BX来实现。</p>
<p>指令后面加个！表示更新基地址寄存器符号</p>
<p>寄存器间接寻址就是以寄存器中的值作为操作数地址，而操作数本身存放在存储器中。用于间接寻址的寄存器必须用[ ] 括起来</p>
<p>Test EQU 50 定义 标号 Test的值为50!</p>
<p>RAM完成有条件无符号加法运算，并更新CPSR中的状态，条件如果是相等，要求指令执行R1+R2，结果放入R3中，则这条指令ADDCEQ R3, R1, R2。如果条件是大于，要求执行R1 - R2，结果放入R3，则该指令是SUBHIS R3, R1, R2<br><strong>指令的条件码总结</strong></p>
<ul>
<li>EQ - 相等</li>
<li>NE - 不等</li>
<li>MI - minus负数</li>
<li>PL - plus正数或0</li>
<li>vs - overflow set溢出</li>
<li>vc - overflow clear未溢出</li>
<li>GT - greater than带符号数大于</li>
<li>GE - greater and equal带符号数大于或等于</li>
<li>LT - lower than带符号数小于</li>
<li>LE - lower equal带符号数小于或等于</li>
<li>HI - high无符号数大于</li>
<li>CS - carry same无符号数大于或等于</li>
<li>CC - carry clear无符号数小于</li>
<li>LS - low and same无符号数小于或等于</li>
</ul>
<p><strong>常考指令</strong></p>
<p>LDR 字数据加载指令(存储器到寄存器的数据传送指令)</p>
<p>LDRB 字节数据加载指令</p>
<p>LDRH 半字数据加载指令</p>
<p>STR 字数据存储指令</p>
<p>STRB 字节数据存储指令<br>STRH 半字数据存储指令</p>
<ul>
<li>STR R0, [R1] - 将R0中一个字的数据，存入以R1的值为地址的存储器中。</li>
<li>LDR R0, [R1] - 以R1的值为地址的存储器中的字数据（为32位）读入寄存器R0</li>
<li>LDRH R0, [R1] -以R1的值为地址的存储器中的半字数据（为16位）读入寄存器R0</li>
<li>LDRB R0, [R1] -以R1的值为地址的存储器的字节数据（为8位）读入寄存器R0 </li>
<li>注意了，LDR R1, #0x12345678 LDR是加载存储指令，表示存储器到寄存器的数据传送，而#是立即数符号，表示立即数寻址。所以这样写是不正确的！</li>
</ul>
<p>ADC R1, R2, R3 表示 R1 = R2+R3+C（C表示进位）（ADD表示加法）（ADC表示）<br><strong>置1清0的操作</strong><br>常见的操作是：or可实现置1，and可实现清0。比如ORR R0，R0，＃00000003 该指令设置R0的0、1位，其余位保持不变。再比如AND R0，R0，＃FFFFFFFE实现R0的最低位清零。还有一个是用ARM的指令进行位清0，BIC R1, R1 #0X00000088<br><strong>立即数</strong></p>
<p>汇编语言中中操作数有三种：寄存器操作数、存储器操作数和立即数。</p>
<p>其中立即数相当于高级语言中的常量（常数），它是直接出现在指令中的数，不用存储在寄存器或存储器中的数，如指令ADD AL,06H中的06H即为立即数。<br><strong>大小端存储</strong><br>所谓的大端模式就是，低地址存储高位字节。<br>所谓的小端模式就是，低地址存储低位字节。<br><strong>计算机存储结构</strong><br>冯诺依曼，是一种程序指令储存和数据储存在一起的存储器结构<br>哈佛结构，是一种将程序指令储存和数据储存分开的存储器结构<br><strong>音频图像</strong></p>
<p><strong>音频</strong><br>数字音频的正确处理顺序是：取样 -&gt; 量化 -&gt; 编码</p>
<p>数字音频的主要参数：取样频率、量化位数、声道数目、使用的压缩编码方法、比特率</p>
<p>比特率（码率）计算方式：码率 = 取样频率×量化位数×声道数，压缩后的码率和压缩前的码率也就差一个压缩比。</p>
<p>mp3:MPEG - 1层③算法进行有损的压缩编码，以8~12倍的比率大幅度降低了声音的数据量<br><strong>图像</strong><br>包括BMP.、TIF、GIF、JPEG、PNG</p>
<p>数字图像的获取过程分为：扫描、分色、取样</p>
<p>GIF是互联网上广泛使用的一种图像文件格式，它的颜色数目较少，不超过256色，文件特别小，适合互联网传输</p>
<p>JPEG是静止图像数据压缩编码的国际标准，特别适合处理各种连续色调的彩色和灰度图像，算法复杂度适中，软硬件皆可实现。<br><strong>屏幕</strong></p>
<p><strong>触摸屏</strong></p>
<ul>
<li>电阻式触摸屏（软屏），结构简单价格低</li>
<li>电容式触摸屏（硬屏），结构复杂价格高</li>
<li>电容式触摸屏可以实现多点触摸和滑动操作</li>
<li>般写硬笔字的触摸屏是电阻屏</li>
</ul>
<p><strong>LCD显示屏</strong></p>
<ul>
<li>LCD显示屏自身不带控制器，没有驱动电路，仅仅是显示器件，价格最低</li>
<li>LCD显示模块内置LCD显示屏，控制器和驱动模块，有字符型和图形点阵型</li>
<li>PC机通常使用的是LCD显示器，除具备显示屏外，还包括驱动器，控制器以及外壳，是完整的LCD显示设备</li>
<li>DVI、VGA以及HDMI是一种接口标准</li>
</ul>
<p><strong>其他</strong></p>
<ul>
<li>微波通信：手机通信、卫星通信、无线局域网</li>
<li>调频广播属于短波以及超短波通信。</li>
</ul>

    </div>

    
    
    

    <footer class="post-footer">
          <div class="reward-container">
  <div>Buy me a coffee</div>
  <button>
    赞赏
  </button>
  <div class="post-reward">
      <div>
        <img src="/images/wechat-qcode.png" alt="Crazyjackkong 微信">
        <span>微信</span>
      </div>

  </div>
</div>

          <div class="post-tags">
              <a href="/tags/%E8%BD%AC%E8%BD%BD/" rel="tag"># 转载</a>
              <a href="/tags/%E5%B5%8C%E5%85%A5%E5%BC%8F/" rel="tag"># 嵌入式</a>
          </div>

        

          <div class="post-nav">
            <div class="post-nav-item">
                <a href="/post/b01d34de.html" rel="prev" title="Linux 源码安装及卸载">
                  <i class="fa fa-chevron-left"></i> Linux 源码安装及卸载
                </a>
            </div>
            <div class="post-nav-item">
                <a href="/post/62c7e70.html" rel="next" title="监督学习和无监督学习">
                  监督学习和无监督学习 <i class="fa fa-chevron-right"></i>
                </a>
            </div>
          </div>
    </footer>
  </article>
</div>








  
</div>
  </main>

  <footer class="footer">
    <div class="footer-inner">


<div class="copyright">
  © 2018 – 
  <span itemprop="copyrightYear">2022</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Crazyjackkong</span>
</div>
<div class="wordcount">
  <span class="post-meta-item">
    <span class="post-meta-item-icon">
      <i class="fa fa-chart-line"></i>
    </span>
    <span title="站点总字数">50k</span>
  </span>
  <span class="post-meta-item">
    <span class="post-meta-item-icon">
      <i class="fa fa-coffee"></i>
    </span>
    <span title="站点阅读时长">46 分钟</span>
  </span>
</div>
<div class="busuanzi-count">
    <span class="post-meta-item" id="busuanzi_container_site_uv">
      <span class="post-meta-item-icon">
        <i class="fa fa-user"></i>
      </span>
      <span class="site-uv" title="总访客量">
        <span id="busuanzi_value_site_uv"></span>
      </span>
    </span>
    <span class="post-meta-item" id="busuanzi_container_site_pv">
      <span class="post-meta-item-icon">
        <i class="fa fa-eye"></i>
      </span>
      <span class="site-pv" title="总访问量">
        <span id="busuanzi_value_site_pv"></span>
      </span>
    </span>
</div>

<span id="showDays"></span>

<br>

    </div>
  </footer>

  
  <div class="toggle sidebar-toggle" role="button">
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
  </div>
  <div class="sidebar-dimmer"></div>
  <div class="back-to-top" role="button" aria-label="返回顶部">
    <i class="fa fa-arrow-up fa-lg"></i>
    <span>0%</span>
  </div>
  <div class="reading-progress-bar"></div>

<noscript>
  <div class="noscript-warning">Theme NexT works best with JavaScript enabled</div>
</noscript>


  
  <script src="https://cdnjs.cloudflare.com/ajax/libs/animejs/3.2.1/anime.min.js" integrity="sha256-XL2inqUJaslATFnHdJOi9GfQ60on8Wx1C2H8DYiN1xY=" crossorigin="anonymous"></script>


  





  
  <script async="" src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>








<script src="/bundle.js"></script><script>(function(i,s,o,g,r,a,m){i["DaoVoiceObject"]=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;a.charset="utf-8";m.parentNode.insertBefore(a,m)})(window,document,"script",('https:' == document.location.protocol ? 'https:' : 'http:') + "//widget.daovoice.io/widget/4376f8e2.js","daovoice");(function(i,s,o,g,r,a,m){i["DaoVoiceObject"]=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;a.charset="utf-8";m.parentNode.insertBefore(a,m)})(window,document,"script",('https:' == document.location.protocol ? 'https:' : 'http:') + "//widget.daovoice.io/widget/0f81ff2f.js","daovoice")
  daovoice('init', {
      app_id: "4376f8e2"
    });
  daovoice('update');;var seconds = 1000;
  var minutes = seconds * 60;
  var hours = minutes * 60;
  var days = hours * 24;
  var years = days * 365;
  var birthDay = Date.UTC(2018,03,17,00,00,00); // 这里设置建站时间
  setInterval(function() {
    var today = new Date();
    var todayYear = today.getFullYear();
    var todayMonth = today.getMonth()+1;
    var todayDate = today.getDate();
    var todayHour = today.getHours();
    var todayMinute = today.getMinutes();
    var todaySecond = today.getSeconds();
    var now = Date.UTC(todayYear,todayMonth,todayDate,todayHour,todayMinute,todaySecond);
    var diff = now - birthDay;
    var diffYears = Math.floor(diff/years);
    var diffDays = Math.floor((diff/days)-diffYears*365);
    var diffHours = Math.floor((diff-(diffYears*365+diffDays)*days)/hours);
    var diffMinutes = Math.floor((diff-(diffYears*365+diffDays)*days-diffHours*hours)/minutes);
    var diffSeconds = Math.floor((diff-(diffYears*365+diffDays)*days-diffHours*hours-diffMinutes*minutes)/seconds);
      document.getElementById('showDays').innerHTML="本站已运行 "+diffYears+" 年 "+diffDays+" 天 "+diffHours+" 小时 "+diffMinutes+" 分钟 "+diffSeconds+" 秒";
  }, 1000);;L2Dwidget.init({"model":"wanko","bottom":-30,"log":false,"pluginJsPath":"lib/","pluginModelPath":"assets/","pluginRootPath":"live2dw/","tagMode":false});</script><script async>window.onload=function(){var a=document.createElement('script'),b=document.getElementsByTagName('script')[0];a.type='text/javascript',a.async=!0,a.src='/sw-register.js?v='+Date.now(),b.parentNode.insertBefore(a,b)};</script></body></html>